---
title: British Literary Prizes
marimo-version: 0.17.0
author: Manish Datt
date: '2025-10-28'
iso-date: '2025-10-28'
description: >-
  Distribution of prizes across the highest degree and gender.
image: British_prize.png
categories:
- Heatmap
- TidyTuesday
- PyDyTuesday
slug: 25A4
---

# TidyTuesday dataset of [{{<meta date>}}](https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/{{<meta iso-date>}})

```{python}
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
```

```{python}
prizes = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-10-28/prizes.csv')
```

```{python}
prizes
```

```{python}
prizes['prize_genre']=prizes['prize_genre'].str.capitalize()
```

```{python}
prizes.groupby(['prize_genre','highest_degree']).count()['prize_name'].sort_values(ascending=False)
```

```{python}
prizes.groupby(['degree_field_category']).count()['prize_name'].sort_values(ascending=False)
```

```{python}
df = prizes[(~prizes["degree_field_category"].isin(['unknown','none'])) & (prizes["highest_degree"].isin(['Bachelors','Masters', 'Doctorate']))]
df
```

```{python}
#fix,ax = plt.subplots(figsize=(10,5))
sns.catplot(data=df, \
            x='prize_year', y='prize_genre', hue='gender', dodge=True, kind='strip', \
            col='highest_degree', col_wrap=2, aspect=2, legend=False, jitter=True, size=10)
```

```{python}
pivot_table = df.pivot_table(
    index='prize_genre',
    columns='highest_degree',
    values='prize_name',
    aggfunc='count',
    fill_value=0
)
```

```{python}
plt.figure(figsize=(8, 5))
sns.heatmap(pivot_table, annot=True, fmt='d', cmap='YlGnBu', linewidths=0.5)
#plt.title('Tile Plot of Prizes by Degree Field and Degree Level')
#plt.xlabel('Highest Degree')
#plt.ylabel('Degree Field Category')
plt.tight_layout()
plt.show()
```

```{python}
prizes['degree'] = prizes['highest_degree'].apply(lambda x: x if x in ['Bachelors', 'Masters', 'Doctorate'] else 'Others')
prizes['gender_new'] = prizes['gender'].apply(lambda x: x if x in ['man', 'woman'] else 'NB')
```

```{python}
df1= (prizes.groupby(['prize_genre', 'degree', 'gender_new']).count()['prize_id'].reset_index())
df1['degree_gender'] = df1['degree']+'_'+df1['gender_new']
df1
```

```{python}
reshaped = df1.pivot_table(
    index='prize_genre',
    columns='degree_gender',
    values='prize_id',
    aggfunc='sum',  # or 'count' if you want number of entries
    fill_value=0
).reset_index()
reshaped = reshaped.set_index('prize_genre')
```

```{python}
ind = prizes.groupby(['prize_genre']).count()['prize_name'].sort_values(ascending=False).index
reshaped.columns
```

```{python}
reshaped1 = reshaped[['Bachelors_man', 'Bachelors_woman', 'Masters_man', 'Masters_woman',
       'Doctorate_man', 'Doctorate_woman', 'Others_man', 'Others_woman']]
reshaped1 = reshaped1.reindex(ind)
reshaped1.index = reshaped1.index.str.replace('Sff', 'Sci-Fi and Fantasy')
```

```{python}
bg_color = '#DBD4FF'
fg_color = '#723480'
fg_color2 = '#FFFFE3'

lw=5
cmap = sns.color_palette("Wistia", as_cmap=True)
cmap.set_under('#FFFFE3')  

fig1,ax1 = plt.subplots()
sns.heatmap(reshaped1, annot=True, fmt='d', cmap=cmap, cbar=False, \
            linewidths=lw, ax=ax1,vmin=0.1, annot_kws={"fontfamily": "monospace"}, \
            cbar_kws={'shrink': 0.6, 'aspect': 30, 'pad': 0.02})
fig1.set_facecolor(bg_color)
ax1.set_facecolor(bg_color)
ax1.patch.set_facecolor(bg_color)

ax_top = ax1.twiny()

# Match the position and scale of the bottom axis
ax_top.set_xlim(ax1.get_xlim())

ax_top.set_xticks(ax1.get_xticks())
ax_top.set_xticklabels(['M', 'W']*4, fontsize=9)

for i in range(0, len(reshaped1.columns)+1):  
    if(i % 2 == 0):
        ax1.vlines(i, *ax1.get_ylim(), colors=bg_color, linewidth=lw)
    else:
        ax1.vlines(i, *ax1.get_ylim(), colors=fg_color2, linewidth=lw)
for i in range(0, len(reshaped1.index)+1):  
    ax1.hlines(i, *ax1.get_xlim(), colors=bg_color, linewidth=lw)

xticklabels = ax1.get_xticklabels()
new_labels = [label._text.split('_')[0] if i % 2 == 0 else '' for i, label in enumerate(xticklabels)]

# Apply the new labels
ax1.set_xticklabels(new_labels, rotation=0, ha='left', fontsize=10)
ax1.tick_params(axis='both', which='both', length=0)
ax_top.tick_params(axis='both', which='both', length=0, pad=0)
ax1.set_xlabel('')
ax1.set_ylabel('')
#colorbar = ax1.collections[0].colorbar
#colorbar.ax.tick_params(labelsize=10)
for label in ax1.get_xticklabels()+ax_top.get_xticklabels():
    label.set_fontfamily('monospace')
    label.set_color(fg_color)
for label in ax1.get_yticklabels():
    label.set_fontfamily('monospace')
    label.set_color(fg_color)
sns.despine(left=True,bottom=True)    
#plt.tight_layout()
plt.title("Genre-wise distribution of the British literary prizes \nbased on the highest degree and gender of the authors.", fontfamily='Serif', fontsize=16, color=fg_color, loc='left', x=-0.3, y=1.07)
plt.savefig('British_prize.png', dpi=300, bbox_inches='tight')
plt.show()
```